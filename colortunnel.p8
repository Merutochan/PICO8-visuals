pico-8 cartridge // http://www.pico-8.com
version 19
__lua__
n=48
bs=1
function _init()
	cls()
	te = {}
	for i = 0,n do
		add(te, newt())
	end
	count=n
	manual=false
end

function _update60()
	-- update tunnel
	for t in all(te) do
	t.w+=t.s
		if t.w>95 then
			del(te,t)
			count-=1
			if (not manual) then
				while(count<n) do
					add(te, newt())
					count+=1
				end
			end
		end
	end
	
	if btn(1) then bs-=.01 end
	if btn(0) then bs+=.01 end
		
	
	if (count<n and manual and btn(4)) then
		add(te, newt())
		count+=1
	end
	
	if btnp(5) then manual = not manual end
		
	
end

function _draw()
	cls()

	for t in all(te) do
		for a=0,t.n do
			circfill(64-t.w*cos(time()/10*t.cs+a/t.n+t.rp), 64-t.w*sin(time()/10*t.cs+a/t.n+t.rp), (t.w/20)*(t.w/20), t.c)
		end
	end
end

function newt()
 t={}
 t.n=2+rnd(16)
 t.s=1+rnd(1)
 t.cs=bs+rnd(1)
 t.w=8+8*sin(time()/3)
	t.c=rnd(16)
 t.rp = rnd(1)
 return t
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
fffffffff66666666666666666666666666666dddddddddddddddbbddddddddddddddddd888888d77777777bbbbbbbbb666666666666666666666fffffffffff
ffffffff666666666666666666666666666666dddddddddddddddbddddddddddddddddddd888887777777bbbbbbbbbbbbb66666666666666666666ffffffffff
fffffff666666666666666666666666666666dddddddddddddddddddddddddddddddddddd88888777777bbbbbbdddddbbbb6666666666666666666fffffffff0
fffffff666666666666666666666666666666dddddddddddddddddddddddddddddddddddd88887777777bbbbdddddddddbb66666666666666666666ffffffff0
ffffff666666666666666666666666666666ddddddddddddddddddddddddddddddddddddd8888777777bbbdddddddddddddb6666666666666666666ffffffff0
ffffff666666666666666666666666666666ddddddddddddddddddddddddddddddddddddd8887777777bbddddddddddddddd6666666666666666666fffffff00
fffff6666666666666666666666666666666dddddddddddddddddddddddddddddddddddd888d777777bbbdddddddddddddddb666666666666666666fffffff00
fffff6666666666666666666666666666666dddddddddddddddddddddddddddddddddddd88dd777777bbddddddddddddddddd666666666666666666ffffff555
fffff6666666666666666666666666666666dddddddddddddddddddbddddddddddddddd88ddd777777bbddddddddddddddddd666666666666666666fffff5555
fffff66666666666666666666666666666666dddddddddddddddddbbdddddddddddddddbdddd777777bddddddddddddddddddd66666666666666666fffff5555
fffff66666666666666667777666666666666dddddddddddddddddbbddddddddddddddbbbdddd77777bddddddddddddddddddd6666666666666666fffff55555
fffff666666666666667777777666666666666dddddddddddddddbbdddd66666ddddbbbbbbddd77777eeeeeddddddddddddddd6666666776666666fff5555555
fffff666666666666777777777666666666666dddddddddddddddddddd6666666dbbbbbbbbbddd777eeeeeeedddddddddddddd666666777766666fff55555555
ffffff666666666677ddddd7777766666666666dddddddddddddb0ddd666666666bbbbbbbbbbdd77eeeeeeeeeddddddddddddd666667777766666f5555555555
ffffff6666666666ddddddddd7777666666666667dddddddddbbbb0066666666666bbbbbbbbbaddeeeeeeeeeeeddddddddddd666666777777766555555555555
ffffff26666666ddddddddddddd777766666667777bdddddbbbbbbb066666666666bbbbbbbbba0eee66666eeeeedddddddddd666677777777778888822222555
ffffff8666666ddddddddddddddd7777ddddddd777bbbbbbbbbbbbb066666666666bbbbbbbbba0ee6666666eeeeddddddddd6666777777777778888888222225
ffffff8866666ddddddddddddddd77777dddddd66666bbbbbbbbbbb066666666666bbbbbbbbba0e666666666eeeddddddddd6677777777777777888888822222
ffffff888666ddddddddddddddddd7777ddddd6666666bbbbbbbbbb066666666666bbbbbbb222066666666666eedddddddd77777777777777777888888882222
ffffff888866dddddddddddddddddeeeeeddd666666666bbbbbbbbb00666666666bbbbeee2222266666666666eedddddd7777777777777777777788888888222
ffffff8888bdddddddddddddddddeeeeeeed66666666666bbbbbbb000066666660bbeeeeeee22266666666666edddddb77777777777777777777788888888822
ffffff88bbbddddddddddddddddeeeeeeeee6666666666555bbbb00000066666000beeeeeee22266666666666bbbbbbb777777777777777777bbbbb888888822
ffffffbbbbbdddddddddddddddeeeeeeeeee666666665555555b000000000000000eeeeeeeee2266666666666bbbbbbb7777777777777777dddddbbbb8888882
fffffbbbbbbddddddddddddddeeeeeeeeeee6666666655555550000000000000000eeeeeeeee222666666666bbbbbbbba7777777777777dddddddddbbbb88882
fffffbbbbbbddddddddddddddeeeeeeeeeee6666666555555555000000000011111eeeeeeeee22206666666bbbbbbbbaa77777777777dddddddddddddbbb8882
ffffbbbbbbbbdddddddddddddeeeeeeeeeeee6666ee5555555550000000001111111eeeeeee22220066666bbbbbbbbaaaa777777777dddddddddddddddbb8882
ffffbbbbbbbbdddddddddddddeeeeeeeeeeeee666ee5555555550000000011111111eeeeeee22000000000bbbbbbbaaaaaaa7777777dddddddddddddddbbb882
fffbbbbbbbbbbddddddddddddeeeeeeeeeeeee26eeee55555551100000001111111110eee00001110000000bbbbbaaaaaaaa777777dddddddddddddddddbb882
fffbbbbbbbbbbdddddddddddddeeeeeeeeeee222eeee555555511100000011111111110000001111100000000000aaaaaa66666777dddddddddddddddddbbb82
555bbbbbbbbbbbdddddddddddddeeeeeeeee2222eeeeee5551111100000001111111110000011111110000000000aaaaa66666667dddddddddddddddddddbb22
557bbbbbbbbbbbbbdddddddddbbbeeeeeeeb22222eeeeeee11111100000000111111110000011111110000000000aaaa666666666dddddddddddddddddddbb22
5d7bbbbbbbbbbbbbbbddddd66666beeeeeb022222eeeeeee11111000ddd00000111ddd00000111111100000000000aa66666666666ddddddddddddddddddbb22
5777bbbbbbbbbbbbbbbbbd6666666bbbbb000022200eee000111000ddddd000001ddddddd000111110000000000000a66666666666ddddddddddddddddddbb22
8777bbbbbbbbbbbbbbbbb666666666bbba000000000000000000000ddddd000000dddddddd0001110000000000000eee6666666666ddddddddddddddddddb772
77777bbbbbbbbbbbbbbb66666666666aa0000011100000000000000ddddd000000dddddddd33300000000000111eeeeeee66666666dddddddddddddddddbb772
77777bbbbbbbbbbbbbbb66666666666a00000111110000ddd0000003ddd30000000ddddddd33330000000001111eeeeeee66666666dddddddddddddddddb7777
777777bbbbbbbbbbbbbd6666666666600000111111100ddddd00000333330000000000ddd3333300ddd0001111eeeeeeeee666666bbdddddddddddddddbb7777
77777777bbbbbbbbb7706666666666600000111111100ddddd00000033300000000000000333330ddddd001111eeeeeeeee66666bbbdddddddddddddddb77777
7777777777bbbbb777706666666666600000111111100ddddd00000000000000000000000033300ddddd001111eeeeeeeee6666bbbbbddddddddddddd7777777
877ddddd77777777bbbbb6666666660000000111110000ddd000000000000000000000000000000ddddd0001111eeeeeee00bbbbbbbbbbddddddddd777777777
8ddddddddd77777bbbbbbb66666660000000001110000000000000000000d0000000000000000000ddd00000111eeeeeee000bbbbbbbbb77ddddd77777777777
dddddddddddd77bbbbbbbbb666660000000000000333000000000000000ddd000007000d000000000000000000000eee000000bbbbbbbd777777777777777777
dddddddddddddbbbbbbbbbbb00000000000000003333300000000d000700d000007770ddd00000000000000000000000000000222bbb00d77777777777777777
dddddddddddddbbbbbbbbbbbbeee0000000000ddd33330020000ddd0777000000007000d00000000000000000000000000002222222000077777777777777777
ddddddddddddddbbbbbbbbbeeeeeee1110000ddddd33302220007d0007000000000000000000000000000000ddd0000000002222222000007777777777777776
ddddddddddddddbbbbbbbbbeeeeeee1111100ddddd330002000777000000000000000000000070000000000ddddd000011122222222200007777777777777776
dddddddddddddddbbbbbbbeeeeeeeee111110ddddd000000000070000000000000000000000777000000000ddddd000111122222222200000777777777777766
dddddddddddddddbbbbbbbeeeeeeeee1111110ddd0000000000000000006400500e0400000007000d000003ddddd001111122222222266666ad7777777776666
dddddddddddddddbbbbbbbeeeeeeeee111111000000000000000000000000d0c000d00060000000ddd000033ddd00011111122222226666666add77777666666
dddddddddddddddbbbbbbbbeeeeeee111111100000000000000000e000000c1000001000e0005000d0000023333000111111222222666666666ad88886666666
dddddddddddddddbbbbbbb0eeeeeee11111100000000d0000000000d0000000000000000d5000000000002223300000111110022266666666666a88886ddddd6
dddddddddddddda66666b0000eee000011100000000dd70000000500100000009000000000040000000000200000000111110000066666666666a888dddddddd
dddddddddddddd666666600000000000000000000000777000000000709000000000000701000000000700000000001111111000066666666666b8dddddddddd
ddddddddddddd66666666600000000000ddd00000000070050050000000020400204000900000e00007770000000001111111000066666666666bddddddddddd
dddddddddddd66666666666000000000ddddd0000000000006ed0000000000000000000000000d00000700000000001111111000066666666666bddddddddddd
dddddddddddd66666666666000000000ddddd00000000000000010000400000000000020000000000000000000000ddd1111000000666666666bdddddddddddd
6ddddddddd7766666666666000000000ddddd0000000000000000900200000000000000400000000000000000000ddddd110000000b6666666bbdddddddddddd
666ddddd6777666666666662201110000ddd00000000000040000000000000000000000000090100000000d00000ddddd000000eeebb66666bbddddddddddddd
666666666777666666666662211111003333300000000000000000000000000000000000000000c4e0000ddd0000ddddd0011eee555ebbbbbbbddddddddddddd
66666666677776666666662222111110333330000000000ed0000040000000000000000002000000000000d000000ddd00111e5555555bbbbbbddddddddddddd
666666666777bb66666662222211111033333000000000000100020000000000000000000040000500000000000000000111ee5555555bbbbbbddddddddddddd
66666666777bbbb66666222222111110033300000d7000000c00000000000000000000000000000000000000000000000111e555555555bbbbbddddddddddddd
bbbbb66677bbbbbbbb2222222111110000000000d77700000100000000000000000000000000000000000700000000000111e555555555bbbbb7dddddddddddd
bbbbbbb77bbbbbbbbb22222220111000000000000d70000500090000000000000000000000000010000077700000333001111555555555000007dddddddddddd
bbbbbbbbbbbbbbbbbbbb222000000000ddd000000000000d000004000000000000000000000290000e0007000003333311111e5555555000000d7ddddddddddd
bbbbbbbbbbbbbbbbbbbbb0000000000ddddd000000000004000002000000000000000000004000004000000000033333111111555555500000007ddddddddddd
bbbbbbbbbbbbbbbbbbbbb0000000000ddddd0000000000000070000000000000000000000000000d0000000000033ddd1111110055500000000007dddddddddd
bbbbbbbbbbbbbbbbbbbbb0000000000ddddd00000000000600000000000000000000000000000700000000000000ddddd111110000000000000007bbdddddddd
bbbbbbbbbbbbbbbbbbbbb00000000000ddd000200000000001000000000000000000000000000000000000d00003ddddd111100000000000000000bbbbdddddb
bbbdddddbbbbbbbbbbbb00000000000000000222000000000000904000000000000000000200010000000ddd0033ddddd11100000000666660000bbbbbbbbbbb
bdddddddddbbbbbbbbb0000eee00000000000020000700000d000002000000000000000040900056000000d000333ddd000000000006666666000bbbbbbbbbbb
ddddddddddddbbbbbb000eeeeeee11000000000000777000e00000020000000000000000000700de000000000033333000111000006666666660bbbbbbbbbbbb
dddddddddddddbbbb0000eeeeeee1110000000000007000000000000040000000000000000000000000700000003330001111100066666666666bbbbbbbbbbbb
ddddddddddddddd06666eeeeeeeee1110000000000ddd00000501000000000000000402000000040007770000000000011111110066666666666bbbbbbbbbbbb
ddddddddddddddd66666eeeeeeeee11100000000000d000050000000090020400204000000100000000700000000000011111110066666666666bbbbbbbbbbbb
dddddddddddddd666666eeeeeeeee111000ddd30000000000000d00000000000000009000c000000000000000000000011111110066666666666bbbbbbbbbbbb
ddddddddddddd66666666eeeeeee111000ddddd3000000000000e000000000090000000000de00000000000000ddd00001111100066666666666bbbbbbbbbbbb
ddddddddddddd66666666eeeeeee110000ddddd30000000000000600c10007000000010000005000000000000ddddd00001110000b666666666bbbbbbbbbbbbb
ddddddddddddd6666666666eee00000000ddddd300000000000000004d0000010000005040000000d00000000ddddd0000000000abb6666666bbbbbbbbbbbbbb
ddddddddddddd66666666666000eee00000ddd30000000000700000000e0500000000de00000070ddd0000000ddddd0000000222abbb66666bbbbdddddbbbbbb
ddddddddddddd666666666660eeeeeee0000000000000000777000000000000d4060000000007770d000000000ddd0000002222222bbbbbbbbbdddddddddbbbb
dddddddddddddd666666666baeeeeeee00000000000000000700000000000000e00000000000070000000000000000000002222222abbbbbbdddddddddddddbb
dddddddddddddd06666666bbeeeeeeeee000000000000000ddd00000000000000000000000000000000000000000000000222222222abbbbdddddddddddddddb
ddddddddddddd70b66666bbbeeeeeeeee1111110000000000d0000000070000000000000000000000000000000011100eee22266666aabbbddddddddddddddd7
ddddddddddddd0bbbbbbbbbbeeeeeeeee11111110ddd000000000000077700000000700d0000000000333000001111eeeeeee6666666aaaddddddddddddddddd
dddddddddddd70bbbbbbbbbbbeeeeeee11111111ddddd000000000000070d000000777ddd0000000033ddd00011111eeeeeee66666666aaddddddddddddddddd
7ddddddddd7700bbbbbbbbbbbeeeeeee11111111ddddd00000000000000ddd000000700d0200000003ddddd001111eeeeeeeee66666666dddddddddddddddddd
277ddddd772000bbbbbbbbbbbbbeee0111111111ddddd000033300000000d000000000002220000003ddddd001111eeeeeeeee66666666eddddddddddddddddd
6667777788888dbbbbbbbbbbbbb00000111111110ddd00003333300000000000000000000200000000ddddd000111eeeeeeeee66666666eedddddddddddddddd
666666668888888bbbbbbbbbbb000000011111100000000033333000000000000000000000000000000ddd00000111eeeeeee666666666eeeddddddddddddddd
6666666666887777bbbbbbbbb00000002220000000000000333ddd0000000000000000000000000000000000000000eeeeeee666666666eeeddddddddddddddd
66666666667777777bbbbbbb00066666222220000000000003ddddd000000000003330000ddd00000000000000000000eeeb666666666eeeeddddddddddddddd
666666667777777777bbbbb000666666622220000001110000ddddd0000000ddd3333300ddddd00001110000000000000bbbe6666666eeeeeddddddddddddddd
66666667777777777777770006666666662222000011111000ddddd000000ddddd333300ddddd0001111100000000000bbbbee66666eeeeeedddddddddddddd6
6666666777777777777777d0666666666662220055511111000ddd0000000ddddd333300ddddd001111111000000000bbbbbbeeeeeeeeeeeddddddddddddddd6
66666677777777777ddddd706666666666622255555551110000000000000ddddd3330011ddd1101111111000000000bbbbbbbeeeeeeeee77ddddddddddddd66
666666777777777ddddddddd66666666666220555555511100000000000000ddd000000111111101111111000000000bbbbbbbbeeeeeee77777ddddddddd6666
6666677777777ddddddddddd66666666666225555555551eee000001110000000000011111111100111110000000000bbbbbbbbbeeeee77777777ddddd666666
666667777777dddddddddddd66666666666eb555555555eeeeee0011111000000000111111111000011100066666aaabbbbbbbbbbbbb77777777777666666666
666667777777dddddddddddde666666666eee555555555eeeeee0111111100000001111111eee0000000006666666aaabbbbbbbbbbb777777777777666666666
66666777777dddddddddddddee6666666eeeeb5555555eeeeeeee1111111000000011111eeeeeee000000666666666aaabbbbbbbbb7777777777777766666666
66666777777dddddddddddddeee66666eeeeeb5555555eeeeeeee1111111000000011111eeeeeee0000066666666666aaabbbbbbb77777777777777766666666
6666667777ddddddddddddddeeeeeeeeeeeeebbb5550eeeeeeeee011111000000002222eeeeeeeee000066666666666aaadddddbbb7777777777777766666666
6666667777ddddddddddddddeeeeeeeeeeeeebbbaaaa0eeeeeee0001110000000222222eeeeeeeee00bb66666666666adddddddddbbb77777777777766666666
6666666777dddddddddddddddeeeeeeeeeeebbbbaaaa6eeeeeee0000000000000222222eeeeeeeee0bbb66666666666ddddddddddddbbb777777777766666666
6666666777ddddddddddddddddeeeeeeeeebbbbbaaa6666eee6600000000000022222222eeeeeee0bbbb66666666666dddddddddddddbbb77777777666666666
6666666677dddddddddddddddddeeeeeeebbbbbaaa66666666666bbb0000000022266666eeeeeeebbbbbb666666666ddddddddddddddbbb77777777666666666
66666666667dddddddddddddddddeeeeebbbbbaaaa66666666666bbbb0000bbb2266666662eee0bbbbbbbb6666666ddddddddddddddddbbb7777778866666666
66666666666dddddddddddddddddbbbbbbbbb7aaaa66666666666bbbbb00bbbbb6666666662220bbbbbbbbb66666dddddddddddddddddbbb7777778888666666
66666666666ddddddddddddddddbbbbbbbbb77aaaa66666666666bbbbbbbbbbb66666666666000bbbbbbbbbbbbbdddddddddddddddddddbbb777788888886666
6666666666dddddddddddddddddbbbbb7777777aad66666666666bbbbbbbbbbb66666666666000bbbbbbbbbbbbbdddddddddddddddddddbbb778888888855555
66666666558d6dddddddddddddbbbbbb6777777dddd666666666bbbbbbbbbbbb66666666666000bbbbbbbbbbbbbdddddddddddddddddddbbb888888888555555
666666f5588d66bdddddddddbbbbbbb667777777dddd6666666bbbbbbbbbbbbb666666666660000bbbbbbbbbbb7dddddddddddddddddddbbb888888885555555
55ffff55888666bbbdddddbbbbbbbbb6667777ddddddd66666dbbbbbbbbbbbbb6666666666600000bbbbbbbbb77dddddddddddddddddddbbb888888855555555
5fffff888886666bbbbbbbbbbbbbbb6666777dddddddddddddddbbbbbbbbbbbbb666666666dd0000dbbbbbbb7776dddddddddddddddddbbb8888885555555555
5ffff8888826666bbbbbbbbbbbbbbb6666777dddddddddddddddbbbbbbbbbbbbbb6666666ddddd00ddbbbbb66776dddddddddddddddddbbb5555555555555555
fff8888888266666bbbbbbbbbbbbb6666677dddddddddddddddddbbbbbbbbbbbbbb66666dddddddd6666666666666dddddddddddddddbbb66555555555555555
ff8888800026666666bbbbbbbbb666666677dddddddddddddddddbbbb77bbbbbbbddddddddddddddd666666666666dddddddddddddddbbb66555555555555555
88880000002666666666bbbbb6666666667dddddddddddddddddddbb7bbbbbbbbbddddddddddddddd6666666666666dddddddddddddbbb666555555555555555
89000000002666666666666666666666667ddddddddddddddddddd77bbbbbbbbbddddddddddddddddd66666666666666dddddddddbbb66666555555555555555
00000000002266666666666666666666677ddddddddddddddddddd77bbbbbbbbbddddddddddddddddd6666666666666666dddddbbb6666666555555555555555
00000000052266666666666666666666677ddddddddddddddddddd7bbbbbbbbbddddddddddddddddddd666666666666666666666666666666555555555555555
00000000055226666666666666666666777ddddddddddddddddddd7bbbbbbbbbddddddddddddddddddd666666666666666666666666666666555555555555555
000000000552226666666666666666677666ddddddddddddddddd7bbbbbbbbbbddddddddddddddddddd666666666666666666666666666665555555555555555
000000005555226666666666666666686666ddddddddddddddddd7bbbbbbbbbbddddddddddddddddddd666666666666666666666666666665555555555555555
0000000055555222666666666666688666666ddddddddddddddd77bbbbbbbbbbddddddddddddddddddd666666666666666666666666666655555555555555555
0000000055555222266666666666888666666ddddddddddddddd77bbbbbbbbbbbddddddddddddddddd6666666666666666666666666666555555555555555555
00000000555555f22226666666888866666666ddddddddddddd777bbbbbbbbbbbddddddddddddddddd6666666666666666666666666666555555555555555555

