pico-8 cartridge // http://www.pico-8.com
version 19
__lua__
function _init()
amax=32
athresh=32
r2=48
nmax=32
r1=3
f1=1
f2=1
f3=1
f4=1
f5=0.3
mode = 1
b=0
mode_ = {'f1','f2','r2', 'n', 'a', 'r1', 'b', 'f3', 'f4','f5', 'back'}
maxmode = #mode_
show = -1
back=true
end

function _update60()

	if btnp(0) then show=time() mode-=1 end
	if btnp(1) then show=time() mode+=1 end
	
	mode = max(min(maxmode,mode), 1)
	
	if mode==1 then --f1
		if btn(2) then f1+=0.01 end
		if btn(3) then f1-=0.01 end
		if btnp(4) then f1=1 end
	elseif mode==2 then --f2
		if btn(2) then f2+=0.01 end
		if btn(3) then f2-=0.01 end
		if btnp(4) then f2=1 end
	elseif mode==3 then --r2
		if btn(2) then r2+=0.1 end
		if btn(3) then r2-=0.1 end
		if btnp(4) then r2=32 end
	elseif mode==4 then --nmax
		if btnp(2) then nmax+=1 end
		if btnp(3) then nmax-=1 end
		if btnp(4) then nmax=32 end
		nmax=max(min(100,nmax),0)
	elseif mode==5 then --amax
		if btn(2) then amax+=1 end
		if btn(3) then amax-=1 end
 	amax=max(min(athresh,amax),0)	
		if btnp(4) then amax=athresh end
	elseif mode==6 then --r1
		if btn(2) then r1+=0.1 end
		if btn(3) then r1-=0.1 end
		if btnp(4) then r1=1 end
	elseif mode==7 then --b
		if btnp(2) then b+=1 end
		if btnp(3) then b-=1 end
		if btnp(4) then b=0 end
		b=max(min(8,b),0)
	elseif mode==8 then --f3
		if btn(2) then f3+=0.01 end
		if btn(3) then f3-=0.01 end
		if btnp(4) then f3=1 end
	elseif mode==9 then --f4
		if btn(2) then f4+=0.01 end
		if btn(3) then f4-=0.01 end
		if btnp(4) then f4=1 end
	elseif mode==10 then --f5
		if btn(2) then f5+=0.01 end
		if btn(3) then f5-=0.01 end
		if btnp(4) then f5=1 end
	elseif mode==11 then
		if btnp(4) then back=not back end
	end
	
	
	
	d = r2*((sin(time()/13-cos(time()/9))))
end

function _draw()

cls()
if back then
for i=0,16 do
	for j=0,16 do
		pal(12,i/4+j/4+time()*10)
		
		sspr(16*(flr(i*f1+j*f3+time()*10)%8),0,16,16,i*8,j*8,8+4*sin(i+time()/5),8+4*cos(j+time()/3))
	end
end
end

pal(12,12)

for n=0,nmax-1 do
	if amax==athresh then
		for j=-b/2,b/2 do
			circfill(64+d*j-r2*f4*sin(j/4+f3*n/nmax+time()), 64-r2*cos(j/4+f1*n/nmax+time()*f5), r1*(0.4+abs(sin(0.5*n/nmax+time()/3))), 7)
		end
	else
		for i=0,r1*(0.1+abs(sin(n/nmax+time()/7))) do
			for a=0,amax-1 do
				for j=-b/2,b/2 do
					pset(64-d*j-r2*f4*sin(f3*n/nmax+time())-i*cos(f2*a/amax+n/nmax+time()), 64-r2*cos(j+4+f1*n/nmax+time()*f5)-i*sin(f2*a/amax+time()), 7)
				end
			end
		end
	end
end

if time()-show<0.1 then
	print(mode_[mode])
end

end
__gfx__
00000555550000000000055555500000000005555500000000000555500000000000005500000000000000000000000000000055000000000000055550000000
00057777cc55000000055cccccc5500000057777cc55000000055cc00550000000005500000000000000000000000000000055000000000000055cc005500000
0057cccccccc50000057ccccccccc5000057cccccccc5000005cc00000050000000500000000000000000000000000000005000000000000005cc00000050000
057cccccccccc500057ccccccccccc50057cccccccccc500056c000000000000005000000000000000000000000000000050000000000000056c000000000000
05cccccccc55505005cccccccccccc5005cccccccc55505005c000000000000005500000000000000000000000000000055000000000000005c0000000000000
55cccccc5000000057ccccccccccccc555cccccc5000000057c000000000000005700000000000000000000000000000057000000000000057c0000000000000
57cccccc5000000057ccccccccccccc557cccccc5000000057000000000000005700000000000000000000000000000057000000000000005700000000000000
57ccccc50000000057ccccccccccccc557ccccc50000000057000000000000005700000000000000000000000000000057000000000000005700000000000000
57ccccc50000000057ccccccccccccc557ccccc50000000057000000000000005700000000000000000000000000000057000000000000005700000000000000
57cccccc0000000057ccccccccccccc557cccccc0000000057000000000000005700000000000000000000000000000057000000000000005700000000000000
55cccccc5500000057ccccccccccccc555cccccc5500000057c000000000000005700000000000000000000000000000057000000000000057c0000000000000
05ccccccc555005005cccccccccccc5005ccccccc555005005c000000000000005500000000000000000000000000000055000000000000005c0000000000000
057cccccccccc500057ccccccccccc50057cccccccccc500056c000000000000005000000000000000000000000000000050000000000000056c000000000000
0057cccccccc50000057ccccccccc5000057cccccccc5000005cc00000050000000500000000000000000000000000000005000000000000005cc00000050000
00057777cc55000000055cccccc5500000057777cc55000000055cc00550000000005500000000000000000000000000000055000000000000055cc005500000
00000555550000000000055555500000000005555500000000000555500000000000005500000000000000000000000000000055000000000000055550000000
__label__
0599999505a00050000000000000000005aaaaa005bbbbb505b00050000000000000000005c0005005ccccc505ccccc0000000000000000005d0005005ddddd5
599999995000000050000000500000005aaaa0005bbbbbbb500000005000000050000000500000005ccccccc5cccc0005000000000000000500000005ddddddd
599999995a00000007000000070000005aaaa5005bbbbbbb5b00000007000000070000005c0000005ccccccc5cccc50007000000000000005d0000005ddddddd
00599950005a0500005000000050000000777a50005bbb50005b05000050000000500000005c0500005ccc5000777c500050000000000000005d0500005ddd50
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05aaaaa0000000000000000005a0005005bbbbb505bbbbb0000000000000000005c0005005ccccc005ccccc005c00050000000000000000005ddddd005ddddd0
5aaaa0005000000000000000500000005bbbbbbb5bbbb0005000000000000000500000005cccc0005cccc0005000000000000000500000005dddd0005dddd000
5aaaa50007000000000000005a0000005bbbbbbb5bbbb50007000000000000005c0000005cccc5005cccc5005c00000000000000070000005dddd5005dddd500
00777a500050000000000000005a0500005bbb5000777b500050000000000000005c050000777c5000777c50005c0500000000000050000000777d5000777d50
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777777000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777777700000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777777770000000000000
05a00050000000000000000005bbbbb005bbbbb005b00050000000000000000005ccccc005ccccc505c00050000000000000000077777777777dddd505e00050
5000000000000000500000005bbbb0005bbbb0005000000000000000500000005cccc0005ccccccc50000000500000005000000077777777777ddddd50000000
5a00000000000000070000005bbbb5005bbbb5005b00000000000000070000005cccc5005ccccccc5c000000070000000700000777777777777ddddd5e000000
005a0500000000000050000000777b5000777b50005b0500000000000050000000777c50005ccc50005c0500005000000050077777777777777ddd50005e0500
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777777777777770000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777777777700000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777770777000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777777770000000000000000
000000000000000005b0005005bbbbb505b00050000000000000000005c0005005ccccc505ccccc0000000000000000005d007777777777775eeeee000000000
5000000050000000500000005bbbbbbb500000005000000050000000500000005ccccccc5cccc0005000000000000000500007777777777777eee00050000000
07000000070000005b0000005bbbbbbb5b00000007000000070000005c0000005ccccccc5cccc50007000000000000005d00000777d7777777eee50007000000
0050000000500000005b0500005bbb50005b05000050000000500000005c0500005ccc5000777c500050000000000000077705000077777777777e5000500000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777777700000077777000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777777700000007770000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777770000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777770000000000000000000000000
0000000005b0005005bbbbb005bbbbb0000000000000000005c0005005ccccc005ccccc005d0005000000000000000777777777005eeeee505e0005000000000
00000000500000005bbbb0005bbbb0005000000000000000500000005cccc0005cccc000500000000000000050000007777777005eeeeeee5000000000000000
000000005b0000005bbbb5005bbbb50007000000000000005c0000005cccc5005cccc5005d0000000000000007000007777777005ee777ee5e00000000000000
00000000005b050000777b5000777b500050000000000000005c050000777c5000777c50005d0500000000000050000007777d5000777770005e050000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777770000000000000000
00000000000000077700000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777770000000000000000
00000000000000777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777770000000000000000
00000000000000777770000000000000000000000000000000000000000000000000000000000000000000000077700000000000007777700000000000000000
0000000005bbbb77777bbbb505b00050000000000000000005ccccc005ccccc505d0005000000000000000007777777005eeeee505e777e00000000000000000
500000005bbbb00777bbbbbb5000000000000000500000005cccc0005ccccccc500000005000000050000000777777705eeeeeee5eeee0005000000050000000
070000005bbbb5005bbbbbbb5b00000000000000070000005cccc5005ccccccc5d0000000700000007000007777777775eeeeeee5eeee5000700000007000000
0050000000777b50005bbb50005b0500000000000050000000777c50005ccc50005d0500005000000050000777777777005eee5000777e500050000000500000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777777700000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077700000000077700000000000000000000000
05b0005005bbbbb505bbbbb0000000000000000005c0005005ccccc505ddddd0000000000000000005d0005005eeeee005eee77777e000500000000005f00050
500000005bbbbbbb5bbbb0005000000050000000500000005ccccccc5dddd0005000000000000000500000005eeee0005eee7777777000000000000050000000
5b0000005bbbbbb777bbb50007000000070000005c0000005ccccccc5dddd50007000000000000005d0000005eeee5005eee777777700000000000005f000000
005b0500005bbb7777777b500050000000500000005c0500005ccc5000777d500050000000000000005d050000777e5000777777777e050000000000005f0500
00000000000000777770000000000000000000000000000000000000000000000000000000000000000000000000000000000777770000000000000000000000
00000000000000777770000000000000000000000000000000000000000000000000000000000000077700000000000000000077700000000000000000000000
00000000000000077700000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000
05bbbbb005bbbbb005c000500000000005c0005005ccccc005ddddd005d0005000000000000000777777777005eeeee505e00050000000000000000005fffff0
5bbbb0005bbbb0005000000000000000500000005cccc0005dddd000500000000000000050000077777777705eeeeeee5000000050000000500000005ffff000
5bbbb5005bbbb5005c000000000000005c0000005cccc5005dddd5005d0000000000000007000077777777705eeeeeee5e00000007000000070000005ffff500
00777b5000777b50005c050000000000005c050000777c5000777d50005d0500000000000050000777777750005eee50005e0500005000000050000000777f50
00000000000000000000000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000077700000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077700000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777770000000000000000000000000000
05bbbbb505c00050000000000000000005ccccc005ddddd505d00050000000000000000005e0005005eeeee505eeee77777770000000000005f0005005fffff5
5bbbbbbb5000000050777000500000005cccc0005ddddddd500000005000000050000000500000005eeeeeee5eeee0777777700000000000500000005fffffff
5bbbbbbb5c00000007777700070000005cccc5005ddddddd5d00000007000000070000005e0000005eeeeeee5eeee57777777000000000005f0000005fffffff
005bbb50005c0500077777000050000000777c50005ddd50005d05000050000000500000005e0500005eee5000777e577777000000000000005f0500005fff50
00000000000000000777770000000000000000000000000000000000000000000000000077700000000000000000000077700000000000000000000000000000
00000000000000000077700000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000077777777700000000000000000000000000000000000000000000000000
05ccccc0000000000000000005c0005005ddddd505ddddd0000000000000000005e00777777777e005eeeee005e00050000000000000000005fffff005fffff0
5cccc0005000000000000000500000005ddddddd5dddd000500000000000000050000777777777005eeee0005000000000000000500000005ffff0005ffff000
5cccc50007000000000000005c0000005ddddddd5dddd50007000000000000005e000077777775005eeee5005e00000000000000070000005ffff5005ffff500
00777c500050000000000000005c0500005ddd5000777d500050000000000000005e057777777e5000777e50005e0500000000000050000000777f5000777f50
00000000000000000000000000000000000000000000000000000000000000000000000077700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000777000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777700000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777700000000000000000000000000000000000
05c00050000000000000000705ddddd005ddddd005d00050000000000000000005eeeee005eeeee505e00050777770000000000005f0005005fffff505000050
5000000000000000500000777dddd0005dddd0005000000000000000500000005eeee0005eeeeeee500000005777000050000000500000005fffffff50000000
5c00000000000000070000075dddd5005dddd5005d000000000000000700000777eee5005eeeeeee5e00000007000000070000005f0000005fffffff50000000
005c0500000000000050000000777d5000777d50005d0500000000000050077777777e50005eee50005e05000050000000500000005f0500005fff5000500500
00000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077777777700000000000000000000000000000000000000000000000000000000000
00000000000000007770000000000000000000000000000000000000000077777777700000000000000000000000000000000000000000000000000000000000
00000000000000077777000000000000000000000000000000000000000077777777700000000000000000000000000000000000000000000000000000000000
00000000000000077777005005ddddd505d00050000000000000000005e007777777eee505eeeee0000000000000000005f0005005fffff00500000000000000
5000000050000007777700005ddddddd500000005000000050000000500007777777eeee5eeee0005000000000000000500000005ffff0005000000050000000
0700000007000000777000005ddddddd5d00000007000000070000005e00000777eeeeee5eeee50077700000000000005f0000005ffff5005000050007000000
0050000000500000005d0500005ddd50005d05000050000000500000005e0500005eee5000777e577777000000000000005f050000777f500077705000500000
00000000000000000000000000000000000000000000000000000000000000000000000000000007777700000000000000000000000000000000000000000000
00000000000000000000000000000700000000000000000000000000000000000000000000000007777700000000000000000000000000000000000000000000
00000000000000000000000000007770000000000000000000000077700000000000000000000000777000000000000000000000000000000000000000000000
00000000000000000000000000000700000000000000000000000777770000000000000000000000000000000000000000000000000000000000000000000000
0000000005d0005005777dd005ddddd0000000000000000005e07777777eeee005eeeee005f00050000000000000000005fffff0050000050500005000000000
0000000050000000577777005dddd000500000000000000050007777777ee0005eeee0005000000000000000500000005ffff000500000005000000000000000
000000005d000000777777705dddd50007000000000000005e007777777ee5005eeee5005f00000000000000070000005ffff500500000005000000000000000
00000000005d05007777777000777d500050000000000000005e077777777e5000777e50005f0500000000000050000000777f50005000500050050000000000
00000000000000007777777000000000000000000000000000000077700000000000000777000000000000000000000000000000000000000000000000000000
00000000000000000777770000000000000000000000000000000000000000000000007777700000000000000000000000000000000000000000000000000000
00000000000000000077700000000000000070000000000000000000000000000000007777700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000777000000077700000000000000000000007777700000000000000000000000000000000000000000000000000000
0000000005ddddd005ddddd777d00050000070000000777775eeeee005eeeee505f00057770000000000000005f0005005000005050000000000000000000000
500000005dddd0005ddddd7777700000000000005007777777eee0005eeeeeee5000000050000000500000005000000050000000500000005000000050000000
070000005dddd5005dddd77777770000000000000707777777eee5005eeeeeee5f00000007000000070000005f00000050000000500005000700000007000000
0050000000777d50005dd77777770500000000000057777777777e50005eee77705f05000050000000500000005f050000500050007770500050000000500000
00000000000000000000077777770777000077700000777770000000000007777700000000000000000000000000000000000000000000000000000000000000
00000000000000000000007777707777700777770000077700000000000007777700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000777077777777777777000777000000070000007777700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000077777777777777000070000000777000000777000000000000000000000000000000000000000000000000000000000000000
05d0005005ddddd505ddddd0000777777777777775e0005005eeee7505fffff0000000000000000005f000500500000005000000050000500000000005100050
500000005ddddddd5dddd0005000777770077777500000005eeeeeee5ffff0005000000000000000500000005000000050000000500000000000000050000000
5d0000005ddddddd5dddd50007000777070077705e0000005eeeeeee5ffff50007000000000000005f0000005000050050000500500000000000000051000000
005d0500005ddd5000777d500050000000500000005e0500005eee5000777f500050000000000000005f05000077705000777050005005000000000000510500
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05ddddd005ddddd005e000500000000005e0005005eeeee005fffff005f000500000000000000000050000000500000505000050000000000000000005111110
5dddd0005dddd0005000000000000000500000005eeee0005ffff000500000000000000050000000500000005000000050000000500000005000000051111000
5dddd5005dddd5005e000000000000005e0000005eeee5005ffff5005f0000000000000007000000500005005000000050000000070000000700000051111500
00777d5000777d50005e050000000000005e050000777e5000777f50005f05000000000000500000007770500050005000500500005000000050000000777150
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

